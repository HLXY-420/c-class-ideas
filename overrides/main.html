{% extends "base.html" %} {% block disqus %}
<script src="https://giscus.app/client.js"
        data-repo="HLXY-420/c-class-ideas"
        data-repo-id="R_kgDOKwDG9w"
        data-category="Announcements"
        data-category-id="DIC_kwDOKwDG984CbM0d"
        data-mapping="title"
        data-strict="0"
        data-reactions-enabled="0"
        data-emit-metadata="0"
        data-input-position="bottom"
        data-theme="light_tritanopia"
        data-lang="zh-CN"
        data-loading="lazy"
        crossorigin="anonymous"
        async></script>
<script>
  var palette = __get('__palette');
  if (palette && typeof palette.color === 'object') {
    if (palette.color.scheme === 'slate') {
      const giscus = document.querySelector('script[src*=giscus]');
      giscus.setAttribute('data-theme', 'dark_protanopia');
    }
  }

  document.addEventListener('DOMContentLoaded', function () {
    const ref = document.querySelector('[data-md-component=palette]');
    ref.addEventListener('change', function () {
      var palette = __get('__palette');
      if (palette && typeof palette.color === 'object') {
        const theme =
          palette.color.scheme === 'slate'
            ? 'dark_protanopia'
            : 'light_protanopia';
        const frame = document.querySelector('.giscus-frame');
        frame.contentWindow.postMessage(
          {
            giscus: { setConfig: { theme } },
          },
          'https://giscus.app'
        );
      }
    });
  });
</script>
{% endblock %}